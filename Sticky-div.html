<style>
  .section-collection .sticky-filter {
    position: sticky;
    z-index: 99;
    background-color: #fff;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.12);
    transition: box-shadow 300ms ease-in-out 0s;
    width: calc(100vw - (100vw - 100% - var(--gutter-large) * 2));
    margin-left: calc(var(--gutter-large)* -1);
    padding: 0 calc(var(--gutter-large)* 1);
  }
  @media (max-width: 720px) {
    .section-collection .sticky-filter {
      width: calc(100vw - (100vw - 100% - var(--gutter-medium) * 2));
      margin-left: calc(var(--gutter-medium)* -1);
      padding: 0 calc(var(--gutter-medium)* 1);
    }
  }
  @media (max-width: 540px) {
    .section-collection .sticky-filter {
      width: calc(100vw - (100vw - 100% - var(--gutter-small) * 2));
      margin-left: calc(var(--gutter-small)* -1);
      padding: 0 calc(var(--gutter-small)* 1);
    }
  }
</style>
<script>
function setupStickyFilter() {
    const stickyFilter = document.querySelector('.collection-viewing-parameters'); /target div static attribude, class name or id,
    const headerElement = document.querySelector('[data-section-type="header"]'); /header static attribude, class name or id,
    const headerHeight = headerElement ? headerElement.offsetHeight : 0;
    let lastScrollTop = headerHeight;
  
    if (window.innerWidth <= 720) {
        lastScrollTop = headerHeight * 2;
    } else if (window.innerWidth <= 540) {
        lastScrollTop = headerHeight * 3;
    } else {
        lastScrollTop = headerHeight * 1.5;
    }

    window.addEventListener('scroll', () => {
        let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > lastScrollTop) {
            stickyFilter.classList.add('sticky-filter');
            stickyFilter.style.top = `${headerHeight}px`;
        } else {
            stickyFilter.classList.remove('sticky-filter');
            stickyFilter.style.top = 0;
        }
        lastScrollTop = scrollTop <= headerHeight ? headerHeight : scrollTop;
    }, false);
}

document.addEventListener("DOMContentLoaded", () => {
    setupStickyFilter();
});

window.addEventListener('resize', () => {
    setupStickyFilter();
});
</script>
